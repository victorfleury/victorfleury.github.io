<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Grab a nice wallpaper every day :: Plop !</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="This is a small tool I developed to grab the latest image from the National Geographic&amp;rsquo;s website and save it in a specific folder. With a small cron job, it is then ran every day automatically.
It is not as easy it seems to grab the picture from the web site, as the current hierarchy does not make it easy. However, looking at the source code of the page, we can see this interesting line :"/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://victorfleury.github.io/posts/grab_photo_of_the_day/" />


<link rel="stylesheet" href="https://victorfleury.github.io/assets/style.css">


<link rel="stylesheet" href="https://victorfleury.github.io/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://victorfleury.github.io/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://victorfleury.github.io/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Grab a nice wallpaper every day :: Plop ! — " />
<meta name="twitter:description" content="This is a small tool I developed to grab the latest image from the National Geographic&amp;rsquo;s website and save it in a specific folder. With a small cron job, it is then ran every day automatically.
It is not as easy it seems to grab the picture from the web site, as the current hierarchy does not make it easy. However, looking at the source code of the page, we can see this interesting line :" />
<meta name="twitter:site" content="https://victorfleury.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Grab a nice wallpaper every day :: Plop ! — ">
<meta property="og:description" content="This is a small tool I developed to grab the latest image from the National Geographic&amp;rsquo;s website and save it in a specific folder. With a small cron job, it is then ran every day automatically.
It is not as easy it seems to grab the picture from the web site, as the current hierarchy does not make it easy. However, looking at the source code of the page, we can see this interesting line :" />
<meta property="og:url" content="https://victorfleury.github.io/posts/grab_photo_of_the_day/" />
<meta property="og:site_name" content="Grab a nice wallpaper every day" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-02-25 18:45:26 &#43;0100 &#43;0100" />







</head>
<body class="">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="https://victorfleury.github.io/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">plop !</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/">Blog</a></li>
        
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/contact">Contact</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/">Blog</a></li>
      
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/contact">Contact</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="https://victorfleury.github.io/posts/grab_photo_of_the_day/">Grab a nice wallpaper every day</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2018-02-25
        </span>
      
      
      
    </div>

    

    

    <div class="post-content">
      <p>This is a small tool I developed to grab the latest image from the <a href="https://www.nationalgeographic.com/photography/photo-of-the-day/">National Geographic&rsquo;s</a> website and save it in a specific folder.
With a small cron job, it is then ran every day automatically.</p>

<p>It is not as easy it seems to grab the picture from the web site, as the current hierarchy does not make it easy.
However, looking at the source code of the page, we can see this interesting line :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"> &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">data-pestle-module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;infiniteGallery&#34;</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/json&#34;</span> <span style="color:#a6e22e">data-pestle-options</span>&gt;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">            {&#34;id&#34;:&#34;OwFPp5uL&#34;,&#34;firstImage&#34;:&#34;https://www.nationalgeographic.com/photography/photo-of-the-day/2018/02/pakistan-coal-miner-portrait&#34;,&#34;endpoint&#34;:&#34;https://www.nationalgeographic.com/photography/photo-of-the-day/_jcr_content/.gallery.2018-02.json&#34;,......</span></code></pre></div>
<p>Here what we are interested in, is the JSON file.
Inspecting it in Firefox gives us a good overview of the content.
We can see that there is one file per month of the year based on the naming convention : <code>.gallery.2018-02.json</code></p>

<p>The file contains a list of <code>items</code> which are described as follow : (The descriptions are only wild guesses.)</p>

<ul>
<li><code>index</code> : a sorting index</li>
<li><code>title</code> : title of the photo</li>
<li><code>caption</code> : caption text being displayed on the site</li>
<li><code>credit</code> : author</li>
<li><code>profileUrl</code> : profile page of the author</li>
<li><code>altText</code> : alternative text</li>
<li><code>full-path-url</code> : URL to the picture</li>
<li><code>url</code> : root url</li>
<li><code>originalUrl</code></li>
<li><code>aspectRatio</code></li>
<li><code>sizes</code> : a dictionary of sizes</li>
<li><code>internal</code></li>
<li><code>pageUrl</code></li>
<li><code>publishDate</code> : date of publication</li>
<li><code>yourShot</code></li>
<li><code>social</code></li>
</ul>

<p>The attribute we are going to look at more closely is the <code>size</code> one. It contains a dictionary with key/value as the size/url to the picture.</p>

<p>It is then easy to write a small function that will extract the data from the JSON file and download the picture and save it wherever you want.</p>

<p>Here is the simple code to get today&rsquo;s photo :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> datetime
<span style="color:#f92672">import</span> json
<span style="color:#f92672">import</span> logging
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> urllib
<span style="color:#f92672">import</span> time
<span style="color:#f92672">from</span> optparse <span style="color:#f92672">import</span> OptionParser

logging<span style="color:#f92672">.</span>basicConfig()
LOGGER <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>getLogger()
LOGGER<span style="color:#f92672">.</span>setLevel(logging<span style="color:#f92672">.</span>INFO)
ROOT_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://yourshot.nationalgeographic.com/&#39;</span>
JSON_ROOT_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.nationalgeographic.com/photography/photo-of-the-day/_jcr_content/&#39;</span>
DATA_FORMAT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;.gallery.{YEAR}-{MONTH}.json&#39;</span>
ROOT_OUTPUT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/home/victor/Images/&#39;</span>


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_picture</span>(item, size, base<span style="color:#f92672">=</span>ROOT_OUTPUT, force<span style="color:#f92672">=</span>False):
    <span style="color:#e6db74">&#34;&#34;&#34;Get the picture of the day.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    This method will parse a given json file to retrieve a URL from which it
</span><span style="color:#e6db74">    will download the picture.
</span><span style="color:#e6db74">    Args:
</span><span style="color:#e6db74">        item(dict): The dictionary representing the item
</span><span style="color:#e6db74">        size(str): The size we cant to download.
</span><span style="color:#e6db74">        base(str): The base of the path where images will be saved.
</span><span style="color:#e6db74">        force(bool): Force overwrite of the image if it is already on disk.
</span><span style="color:#e6db74">    Return:
</span><span style="color:#e6db74">        bool: True if successful otherwise False
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    <span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint
    <span style="color:#75715e"># pprint(item)fa</span>
    sizes <span style="color:#f92672">=</span> item<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;sizes&#39;</span>, None)
    <span style="color:#66d9ef">if</span> sizes:
        url_part <span style="color:#f92672">=</span> sizes[size]
    <span style="color:#66d9ef">else</span>:
        url_part <span style="color:#f92672">=</span> item<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;url&#39;</span>)

    photo_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{}&#39;</span><span style="color:#f92672">.</span>format(url_part)

    raw_date <span style="color:#f92672">=</span> item[<span style="color:#e6db74">&#39;publishDate&#39;</span>]
    converted <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strptime(raw_date, <span style="color:#e6db74">&#39;%B </span><span style="color:#e6db74">%d</span><span style="color:#e6db74">, %Y&#39;</span>)
    output <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y_%m_</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>, converted)
    <span style="color:#66d9ef">try</span>:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(base):
            os<span style="color:#f92672">.</span>makedirs(base)
        <span style="color:#75715e"># Photo already exists and no need to download it again</span>
        <span style="color:#66d9ef">if</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(<span style="color:#e6db74">&#39;{}{}.jpg&#39;</span><span style="color:#f92672">.</span>format(base, output)) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> force:
            LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;  * File already exists on disk.&#39;</span>)
            <span style="color:#66d9ef">return</span> True
        urllib<span style="color:#f92672">.</span>urlretrieve(
            photo_url,
            <span style="color:#e6db74">&#39;{}{}.jpg&#39;</span><span style="color:#f92672">.</span>format(base, output),
        )
        LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;  * File successfully retrieved.&#39;</span>)
    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span>:
        LOGGER<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#39;  * Could not save file...&#39;</span>)
        <span style="color:#66d9ef">return</span> False

    <span style="color:#66d9ef">return</span> True</code></pre></div>
<p>From there, we can modify the script to retrieve all the photos from the month and add a bit of command line interface with a parser, to look for the size we want to download :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> datetime
<span style="color:#f92672">import</span> json
<span style="color:#f92672">import</span> logging
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> urllib
<span style="color:#f92672">import</span> time
<span style="color:#f92672">from</span> optparse <span style="color:#f92672">import</span> OptionParser

logging<span style="color:#f92672">.</span>basicConfig()
LOGGER <span style="color:#f92672">=</span> logging<span style="color:#f92672">.</span>getLogger()
LOGGER<span style="color:#f92672">.</span>setLevel(logging<span style="color:#f92672">.</span>INFO)
ROOT_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://yourshot.nationalgeographic.com/&#39;</span>
JSON_ROOT_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://www.nationalgeographic.com/photography/photo-of-the-day/_jcr_content/&#39;</span>
DATA_FORMAT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;.gallery.{YEAR}-{MONTH}.json&#39;</span>
ROOT_OUTPUT <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/home/victor/Images/&#39;</span>


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_picture</span>(item, size, base<span style="color:#f92672">=</span>ROOT_OUTPUT, force<span style="color:#f92672">=</span>False):
    <span style="color:#e6db74">&#34;&#34;&#34;Get the picture of the day.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    This method will parse a given json file to retrieve a URL from which it
</span><span style="color:#e6db74">    will download the picture.
</span><span style="color:#e6db74">    Args:
</span><span style="color:#e6db74">        item(dict): The dictionary representing the item
</span><span style="color:#e6db74">        size(str): The size we cant to download.
</span><span style="color:#e6db74">        base(str): The base of the path where images will be saved.
</span><span style="color:#e6db74">        force(bool): Force overwrite of the image if it is already on disk.
</span><span style="color:#e6db74">    Return:
</span><span style="color:#e6db74">        bool: True if successful otherwise False
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    <span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint
    <span style="color:#75715e"># pprint(item)fa</span>
    sizes <span style="color:#f92672">=</span> item<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;sizes&#39;</span>, None)
    <span style="color:#66d9ef">if</span> sizes:
        url_part <span style="color:#f92672">=</span> sizes[size]
    <span style="color:#66d9ef">else</span>:
        url_part <span style="color:#f92672">=</span> item<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;url&#39;</span>)

    photo_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{}&#39;</span><span style="color:#f92672">.</span>format(url_part)

    raw_date <span style="color:#f92672">=</span> item[<span style="color:#e6db74">&#39;publishDate&#39;</span>]
    converted <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strptime(raw_date, <span style="color:#e6db74">&#39;%B </span><span style="color:#e6db74">%d</span><span style="color:#e6db74">, %Y&#39;</span>)
    output <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>strftime(<span style="color:#e6db74">&#39;%Y_%m_</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#39;</span>, converted)
    <span style="color:#66d9ef">try</span>:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(base):
            os<span style="color:#f92672">.</span>makedirs(base)
        <span style="color:#75715e"># Photo already exists and no need to download it again</span>
        <span style="color:#66d9ef">if</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(<span style="color:#e6db74">&#39;{}{}.jpg&#39;</span><span style="color:#f92672">.</span>format(base, output)) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> force:
            LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;  * File already exists on disk.&#39;</span>)
            <span style="color:#66d9ef">return</span> True
        urllib<span style="color:#f92672">.</span>urlretrieve(
            photo_url,
            <span style="color:#e6db74">&#39;{}{}.jpg&#39;</span><span style="color:#f92672">.</span>format(base, output),
        )
        LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;  * File successfully retrieved.&#39;</span>)
    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">IOError</span>:
        LOGGER<span style="color:#f92672">.</span>error(<span style="color:#e6db74">&#39;  * Could not save file...&#39;</span>)
        <span style="color:#66d9ef">return</span> False

    <span style="color:#66d9ef">return</span> True


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_all_month_photos</span>(size<span style="color:#f92672">=</span>None, year<span style="color:#f92672">=</span>None, month<span style="color:#f92672">=</span>None, force<span style="color:#f92672">=</span>False):
    <span style="color:#e6db74">&#34;&#34;&#34;Get all the photo of the month.
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    Args:
</span><span style="color:#e6db74">        size(str): The size of the picture we want to download.
</span><span style="color:#e6db74">        year(str): The year to look for pictures.
</span><span style="color:#e6db74">        month(str): The month to look for pictures.
</span><span style="color:#e6db74">        force(bool): Force the download and save of the picture even if it is
</span><span style="color:#e6db74">            already present.
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    <span style="color:#75715e"># Checking the size</span>
    <span style="color:#66d9ef">if</span> size <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> [<span style="color:#e6db74">&#39;1024&#39;</span>, <span style="color:#e6db74">&#39;1600&#39;</span>, <span style="color:#e6db74">&#39;2048&#39;</span>, <span style="color:#e6db74">&#39;640&#39;</span>, <span style="color:#e6db74">&#39;320&#39;</span>, <span style="color:#e6db74">&#39;240&#39;</span>, <span style="color:#e6db74">&#39;800&#39;</span>, <span style="color:#e6db74">&#39;500&#39;</span>]:
        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#39;Size is not valid.&#39;</span>)
    LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;About to retrieve data...&#39;</span>)
    
    <span style="color:#75715e"># Getting the date and the month</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> year <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> month:
        today_date <span style="color:#f92672">=</span> year <span style="color:#f92672">or</span> datetime<span style="color:#f92672">.</span>date<span style="color:#f92672">.</span>today()
        today_iso <span style="color:#f92672">=</span> month <span style="color:#f92672">or</span> today_date<span style="color:#f92672">.</span>isoformat()

        year, month, _ <span style="color:#f92672">=</span> today_iso<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;-&#39;</span>)

    LOGGER<span style="color:#f92672">.</span>info(<span style="color:#e6db74">&#39;Retrieving date : {0}-{1}&#39;</span><span style="color:#f92672">.</span>format(year, month))
    <span style="color:#75715e"># Retrieving the json file</span>
    json_file_name <span style="color:#f92672">=</span> DATA_FORMAT<span style="color:#f92672">.</span>format(YEAR<span style="color:#f92672">=</span>year, MONTH<span style="color:#f92672">=</span>month)

    json_url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;{}{}&#39;</span><span style="color:#f92672">.</span>format(JSON_ROOT_URL, json_file_name)

    response <span style="color:#f92672">=</span> urllib<span style="color:#f92672">.</span>urlopen(json_url)
    photos_data <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>loads(response<span style="color:#f92672">.</span>read())

    <span style="color:#66d9ef">if</span> photos_data:
        LOGGER<span style="color:#f92672">.</span>info(
            <span style="color:#e6db74">&#39;Retrieving : {0} photos.&#39;</span><span style="color:#f92672">.</span>format(len(photos_data[<span style="color:#e6db74">&#39;items&#39;</span>]))
        )

    <span style="color:#66d9ef">for</span> index, item <span style="color:#f92672">in</span> enumerate(photos_data[<span style="color:#e6db74">&#39;items&#39;</span>]):
        LOGGER<span style="color:#f92672">.</span>info(
            <span style="color:#e6db74">&#39;Retrieving {0}/{1}&#39;</span><span style="color:#f92672">.</span>format(index<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, len(photos_data[<span style="color:#e6db74">&#39;items&#39;</span>]))
        )
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> get_picture(item<span style="color:#f92672">=</span>item, size<span style="color:#f92672">=</span>size, force<span style="color:#f92672">=</span>force):
            LOGGER<span style="color:#f92672">.</span>error(
                <span style="color:#e6db74">&#39;[ERROR] Could not retrieve : {0}&#39;</span><span style="color:#f92672">.</span>format(item[<span style="color:#e6db74">&#39;publishDate&#39;</span>])
            )

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    <span style="color:#f92672">import</span> sys
    parser <span style="color:#f92672">=</span> OptionParser()
    parser<span style="color:#f92672">.</span>add_option(
        <span style="color:#e6db74">&#34;-s&#34;</span>,
        <span style="color:#e6db74">&#34;--size&#34;</span>,
        dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;size&#34;</span>,
        default<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2048&#39;</span>,
        help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Size for the image.&#34;</span>,
    )
    parser<span style="color:#f92672">.</span>add_option(
        <span style="color:#e6db74">&#34;-m&#34;</span>,
        <span style="color:#e6db74">&#34;--month&#34;</span>,
        dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;month&#34;</span>,
        default<span style="color:#f92672">=</span>None,
        help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;The month to get photo from.&#34;</span>,
    )
    parser<span style="color:#f92672">.</span>add_option(
        <span style="color:#e6db74">&#34;-y&#34;</span>,
        <span style="color:#e6db74">&#34;--year&#34;</span>,
        dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;year&#34;</span>,
        default<span style="color:#f92672">=</span>None,
        help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Year to get photo from.&#34;</span>,
    )
    parser<span style="color:#f92672">.</span>add_option(
        <span style="color:#e6db74">&#34;-f&#34;</span>,
        <span style="color:#e6db74">&#34;--force&#34;</span>,
        dest<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;force&#34;</span>,
        action<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;store_true&#34;</span>,
        default<span style="color:#f92672">=</span>False,
        help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Year to get photo from.&#34;</span>,
    )

    options, _ <span style="color:#f92672">=</span> parser<span style="color:#f92672">.</span>parse_args()

    get_all_month_photos(
        size<span style="color:#f92672">=</span>options<span style="color:#f92672">.</span>size,
        year<span style="color:#f92672">=</span>options<span style="color:#f92672">.</span>year,
        month<span style="color:#f92672">=</span>options<span style="color:#f92672">.</span>month,
        force<span style="color:#f92672">=</span>options<span style="color:#f92672">.</span>force
    )</code></pre></div>
<p>Now you just run it like this in a console :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terminal" data-lang="terminal">$ python daily_photo.py</code></pre></div>
<p>Or with arguments :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terminal" data-lang="terminal">$ python daily_photo.py --size 2048 --year 2018 --month 08</code></pre></div>
<p>Et voilà !</p>

<p>There you have all the photos of the day of the month.</p>

<p>Some improvements though, we could manage errors better in case the JSON file does not provide the correct information</p>

<p>That&rsquo;s all folks !</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
          
            <span class="button next">
              <a href="https://victorfleury.github.io/posts/my-first-post/">
                <span class="button__text">Hello world</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Made with <3 with hugo</div>
    
  </div>
</footer>

<script src="https://victorfleury.github.io/assets/main.js"></script>
<script src="https://victorfleury.github.io/assets/prism.js"></script>

  
</div>

</body>
</html>
